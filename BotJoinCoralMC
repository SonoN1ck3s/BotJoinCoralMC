const { Client, GatewayIntentBits, EmbedBuilder, Options, ApplicationCommand, EmbedAssertions } = require('discord.js');
const client = new Client({ intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMembers] });
const BOT_TOKEN = 'MTA4MDUyNTM5MzM4OTQyMDU5Nw.GLUJq0.0KhMqP42lZWFTC9JoiJyys5nM4ZOzhe1Gt8vBU';
const CHANNEL_ID = '1077331735924178964';
const { ActivityType } = require('discord.js');


client.on('guildMemberAdd', member => {
  const channel = member.guild.channels.cache.get(CHANNEL_ID);
  if (!channel) return;

  const embed = new EmbedBuilder()
    .setTitle(`Benvenuto!`)
    .setColor('#00FF00') 
    .setDescription(`Hey <@${member.user.id}>, benvenuto nella Ordion Community.\nTutto lo staff ti augura una buona permanenza!\nPer favore, leggi il regolamento!`)
    .setThumbnail(member.user.displayAvatarURL());

  channel.send({ embeds: [embed] });
});

const status_list = [
  "stato 1",
];

client.on('ready', () => {
  const index_status = Math.floor(Math.random() * (status_list.length - 1) + 1);
  client.user.setActivity(status_list[index_status], {type: 'WATCHING'})
  console.log("[STATUS] Bot OC ‖ Entry Online!")
  const embedonline = new EmbedBuilder()
    .setTitle("Bot Status • OC ‖ Entry")
    .setDescription(":white_check_mark: Operazione andata a buon fine. Bot Online")
    .setColor(0x008F39)
    .setTimestamp()

  client.user.setActivity('dsc.gg/ordionc', { type: ActivityType.Playing });

  client.channels.cache.get("1077361475259211776").send({embeds: [embedonline]})



})

client.login(BOT_TOKEN);
